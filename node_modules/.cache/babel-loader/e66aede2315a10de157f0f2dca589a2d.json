{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Downloads/reactapp/elearning-app/src/pages/public/instructorheaderlayout.js\";\nimport React, { PureComponent, Fragment } from 'react';\n\nclass Instructorheaderlayout extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      redirect: false,\n      userprofile: [],\n      userdata: [],\n      totalmonthbalance: \"\",\n      totalbalance: \"\",\n      totalcourse: \"\",\n      courseinfos: []\n    };\n  }\n\n  componentWillMount() {\n    const auth = localStorage.getItem('userprofile');\n\n    if (auth == undefined || auth == null) {\n      this.setState({\n        redirect: true\n      });\n    } else {\n      let testdated = Moment().format();\n      api;\n      api.post(\"/auth/me\", {\n        token: JSON.parse(auth).token\n      }).then(res => {\n        // console.log(\"userprofile\",res.data)\n        if (res.data.success == true) {\n          this.setState({\n            userprofile: res.data.user\n          });\n          api.get(`/instructor/getdata/${parseInt(res.data.user.id)}`).then(resu => {\n            // console.log(\"inside userdata\",resu.data)\n            if (resu.data.success == true) {\n              let temp = [];\n              temp = resu.data.data.rows;\n              let totalbalances = 0;\n              let allbalance = 0;\n              var now = Moment(new Date()); //todays date\n\n              let courses = [];\n              temp.map(elem => {\n                allbalance += Number(elem.income.substring(1));\n                var end = Moment(elem.course.createdAt.substring(0, 10)); // another date\n\n                var duration = Moment.duration(now.diff(end));\n                var days = duration.asDays();\n\n                if (parseInt(days) < 30) {\n                  totalbalances += Number(elem.income.substring(1)); // this.setState({totalmonthbalance:totalbalances});\n                }\n\n                api.get(`/getcourse/${parseInt(elem.course.id)}`).then(val => {\n                  if (val.data.success == true) {\n                    console.log(\"courses\", val.data.data);\n                    this.setState({\n                      courseinfos: this.state.courseinfos.concat(val.data.data)\n                    }); // courses.concat(val.data.data)\n                  }\n                }); // console.log(\"courses\",courses)\n              });\n              console.log(\"courses\", this.state.courseinfos);\n              this.setState({\n                courseinfos: courses,\n                userdata: resu.data.data.rows,\n                totalcourse: resu.data.data.count,\n                totalbalance: allbalance,\n                totalmonthbalance: totalbalances\n              });\n            } else {\n              console.log(\"error coccured!!!\");\n            }\n          });\n        }\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.setState({\n      loading: true\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bg-gradient-primary border-bottom-white py-32pt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container d-flex flex-column flex-md-row align-items-center text-center text-md-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"./assets/images/illustration/teacher/128/white.svg\",\n      width: \"104\",\n      className: \"mr-md-32pt mb-32pt mb-md-0\",\n      alt: \"instructor\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex mb-32pt mb-md-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"text-white mb-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 33\n      }\n    }, \"Elijah Murray\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"lead text-white-50 d-flex align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 33\n      }\n    }, \"Instructor \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"ml-16pt d-flex align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 104\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"material-icons icon-16pt mr-4pt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 156\n      }\n    }, \"opacity\"), \" 2,300 IQ\"))), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/instructor-edit-account\",\n      className: \"btn btn-outline-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 29\n      }\n    }, \"Edit account\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"navbar navbar-expand-sm navbar-dark-white bg-gradient-primary p-sm-0 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container page__container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"navbar-toggler ml-n16pt\",\n      type: \"button\",\n      \"data-toggle\": \"collapse\",\n      \"data-target\": \"#navbar-submenu2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"material-icons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 33\n      }\n    }, \"people_outline\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"collapse navbar-collapse\",\n      id: \"navbar-submenu2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"navbar-collapse__content pb-16pt pb-sm-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"nav navbar-nav\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/instructor-dashboard\",\n      className: \"nav-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 45\n      }\n    }, \"Dashboard\")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item dropdown\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      className: \"nav-link dropdown-toggle\",\n      \"data-toggle\": \"dropdown\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 45\n      }\n    }, \"Manage\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dropdown-menu\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"dropdown-item\",\n      href: \"instructor-courses\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 49\n      }\n    }, \"Courses\"), /*#__PURE__*/React.createElement(\"a\", {\n      className: \"dropdown-item\",\n      href: \"instructor-quizzes\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 49\n      }\n    }, \"Quizzes\"), /*#__PURE__*/React.createElement(\"a\", {\n      className: \"dropdown-item\",\n      href: \"instructor-edit-course\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 49\n      }\n    }, \"Edit Course\"), /*#__PURE__*/React.createElement(\"a\", {\n      className: \"dropdown-item\",\n      href: \"instructor-edit-quiz\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 49\n      }\n    }, \"Edit Quiz\"))), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item dropdown\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      className: \"nav-link dropdown-toggle\",\n      \"data-toggle\": \"dropdown\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 45\n      }\n    }, \"Reports\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dropdown-menu\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"dropdown-item\",\n      href: \"instructor-earnings\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 49\n      }\n    }, \"Earnings\"), /*#__PURE__*/React.createElement(\"a\", {\n      className: \"dropdown-item\",\n      href: \"instructor-statement\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 49\n      }\n    }, \"Statement\")))), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"nav navbar-nav ml-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/instructor-profile\",\n      className: \"nav-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 45\n      }\n    }, \"Profile\"))))))));\n  }\n\n}\n\nexport default Instructorheaderlayout;","map":{"version":3,"sources":["/Users/mac/Downloads/reactapp/elearning-app/src/pages/public/instructorheaderlayout.js"],"names":["React","PureComponent","Fragment","Instructorheaderlayout","constructor","props","state","loading","redirect","userprofile","userdata","totalmonthbalance","totalbalance","totalcourse","courseinfos","componentWillMount","auth","localStorage","getItem","undefined","setState","testdated","Moment","format","api","post","token","JSON","parse","then","res","data","success","user","get","parseInt","id","resu","temp","rows","totalbalances","allbalance","now","Date","courses","map","elem","Number","income","substring","end","course","createdAt","duration","diff","days","asDays","val","console","log","concat","count","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, { PureComponent, Fragment } from 'react'\n\nclass Instructorheaderlayout extends PureComponent {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            loading:false,\n            redirect: false,\n            userprofile:[],\n            userdata:[],\n            totalmonthbalance:\"\",\n            totalbalance:\"\", \n            totalcourse:\"\",\n            courseinfos:[]\n        }\n    }\n    componentWillMount(){\n        const auth= localStorage.getItem('userprofile')\n         \n        if(auth == undefined || auth ==null){\n            this.setState({redirect:true})\n        }\n        else{\n            let testdated = Moment().format()\n            api\n            api.post(\"/auth/me\",{token:JSON.parse(auth).token}).then(res=>{\n                // console.log(\"userprofile\",res.data)\n                if(res.data.success==true){\n                    \n                    this.setState({userprofile:res.data.user})\n                    api.get(`/instructor/getdata/${parseInt(res.data.user.id)}`).then(resu=>{\n                        // console.log(\"inside userdata\",resu.data)\n                        if(resu.data.success==true){\n                            let temp =[]\n                            temp = resu.data.data.rows\n\n                            let totalbalances=0;\n                            let allbalance=0;\n                            var now = Moment(new Date()); //todays date\n                            let courses = [];\n                            temp.map(elem =>{\n                                allbalance+= Number(elem.income.substring(1))\n                                var end = Moment( elem.course.createdAt.substring(0,10)); // another date\n                                var duration = Moment.duration(now.diff(end));\n                                var days = duration.asDays();\n\n                                if(parseInt(days) <30){\n                                    totalbalances += Number(elem.income.substring(1))\n                                    // this.setState({totalmonthbalance:totalbalances});\n                                }\n                                \n                                api.get(`/getcourse/${parseInt(elem.course.id)}`).then((val)=>{\n                                    \n                                    if(val.data.success==true){\n                                        console.log(\"courses\",val.data.data)\n                                        this.setState({courseinfos: this.state.courseinfos.concat(val.data.data)})\n                                        // courses.concat(val.data.data)\n                                    }\n                                    \n                                })\n                                // console.log(\"courses\",courses)\n                            })\n                            console.log(\"courses\",this.state.courseinfos)\n                            this.setState({courseinfos:courses,userdata:resu.data.data.rows,totalcourse:resu.data.data.count, totalbalance:allbalance, totalmonthbalance:totalbalances})\n\n                            \n                        }else{\n                            console.log(\"error coccured!!!\")\n                        }\n                    })\n                }\n            })\n            \n        }\n    }\n    componentDidMount(){\n        this.setState({loading:true})\n        \n    }\n\n    render() {\n        return (\n            <Fragment>\n                    <div className=\"bg-gradient-primary border-bottom-white py-32pt\">\n                        <div className=\"container d-flex flex-column flex-md-row align-items-center text-center text-md-left\">\n                            <img src=\"./assets/images/illustration/teacher/128/white.svg\" width=\"104\" className=\"mr-md-32pt mb-32pt mb-md-0\" alt=\"instructor\"/>\n                            <div className=\"flex mb-32pt mb-md-0\">\n                                <h2 className=\"text-white mb-0\">Elijah Murray</h2>\n                                <p className=\"lead text-white-50 d-flex align-items-center\">Instructor <span className=\"ml-16pt d-flex align-items-center\"><i className=\"material-icons icon-16pt mr-4pt\">opacity</i> 2,300 IQ</span></p>\n                            </div>\n                            <a href=\"/instructor-edit-account\" className=\"btn btn-outline-white\">Edit account</a>\n                        </div>\n                    </div>\n\n                    <div className=\"navbar navbar-expand-sm navbar-dark-white bg-gradient-primary p-sm-0 \">\n                        <div className=\"container page__container\">\n\n                            {/* <!-- Navbar toggler   --> */}\n                            <button className=\"navbar-toggler ml-n16pt\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbar-submenu2\">\n                                <span className=\"material-icons\">people_outline</span>\n                            </button>\n\n                            <div className=\"collapse navbar-collapse\" id=\"navbar-submenu2\">\n                                <div className=\"navbar-collapse__content pb-16pt pb-sm-0\">\n                                    <ul className=\"nav navbar-nav\">\n\n                                        <li className=\"nav-item active\">\n                                            <a href=\"/instructor-dashboard\" className=\"nav-link\">Dashboard</a>\n                                        </li>\n                                        <li className=\"nav-item dropdown\">\n                                            <a href=\"#\" className=\"nav-link dropdown-toggle\" data-toggle=\"dropdown\">Manage</a>\n                                            <div className=\"dropdown-menu\">\n                                                <a className=\"dropdown-item\" href=\"instructor-courses\">Courses</a>\n                                                <a className=\"dropdown-item\" href=\"instructor-quizzes\">Quizzes</a>\n                                                <a className=\"dropdown-item\" href=\"instructor-edit-course\">Edit Course</a>\n                                                <a className=\"dropdown-item\" href=\"instructor-edit-quiz\">Edit Quiz</a>\n                                            </div>\n                                        </li>\n                                        <li className=\"nav-item dropdown\">\n                                            <a href=\"#\" className=\"nav-link dropdown-toggle\" data-toggle=\"dropdown\">Reports</a>\n                                            <div className=\"dropdown-menu\">\n                                                <a className=\"dropdown-item\" href=\"instructor-earnings\">Earnings</a>\n                                                <a className=\"dropdown-item\" href=\"instructor-statement\">Statement</a>\n                                            </div>\n                                        </li>\n\n                                    </ul>\n                                    <ul className=\"nav navbar-nav ml-auto\">\n                                        <li className=\"nav-item\">\n                                            <a href=\"/instructor-profile\" className=\"nav-link\">Profile</a>\n                                        </li>\n                                    </ul>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    {/* <!-- // END Header Layout Content   --> */}\n            </Fragment>\n        )\n    }\n}\n\nexport default Instructorheaderlayout"]},"metadata":{},"sourceType":"module"}